(function(){var __slice=[].slice;angular.module("taf.directives.radialSelect",[]).directive("radialSelect",["$http","$compile",function($http,$compile){var cachedRotSkew,template;return template=$http.get("views/components/radialSelect.html"),cachedRotSkew=function(border,max){var deg,hash;return hash=cachedRotSkew.hash(border,max),cachedRotSkew.cache[hash]?cachedRotSkew.cache[hash]:(border=parseInt(border,10)||5,max=max||1,deg=0===max?360:360/max,cachedRotSkew.cache[hash]={deg:deg,_rot:90-deg/2+border,skew:90-deg+2*border})},cachedRotSkew.hash=function(border,max){return[border,max].join("|")},cachedRotSkew.cache={},{restrict:"A",scope:{model:"=ngModel",select:"=radialSelect",width:"@radialWidth",border:"@radialBorder"},link:function($scope,$element){return $scope.wrapper=angular.element('<div class="radial-select wrapper"></div>'),$element.after($scope.wrapper),$scope.wrapper.append($element),template.success(function(html){return $scope.wrapper.append($compile(html)($scope))})},controller:function($scope,$element){var digest,getRotSkew,max,prevent,transform;return $scope.open=!1,$scope.activate=function(){return $scope.open=!0},$scope.deactivate=function(){return $scope.open=!1},prevent=function($event){return $event.preventDefault(),$event.stopPropagation()},digest=function(){var fns;return fns=1<=arguments.length?__slice.call(arguments,0):[],function(){var args;return args=1<=arguments.length?__slice.call(arguments,0):[],fns.forEach(function(_this){return function(fn){return fn.apply(_this,args)}}(this)),$scope.$digest()}},angular.element(window).click(digest($scope.deactivate)),$element.click(digest($scope.activate,prevent)),$element.on("blur",function($event){return $(":active",$scope.wrapper).length?void 0:($scope.deactivate($event),$scope.$digest())}),$scope.set=function(value,$event){return $scope.model=value,$element.focus(),$scope.deactivate($event)},max=1,$scope.$watch("select.length",function(){var _ref;return max=(null!=(_ref=$scope.select)?_ref.length:void 0)||1}),getRotSkew=function(index){var deg,skew,_ref,_rot;return _ref=cachedRotSkew($scope.border,max),deg=_ref.deg,_rot=_ref._rot,skew=_ref.skew,{rot:_rot+deg*index,skew:skew}},transform=function(transformation){return{"-webkit-transform":transformation,"-moz-transform":transformation,"-ms-transform":transformation,transform:transformation}},$scope.css_li=function(index){var rot,skew,_ref;return 2===max?transform("rotate("+(90+180*index)+"deg) skew(0deg) translateY(50%)"):(_ref=getRotSkew(index),rot=_ref.rot,skew=_ref.skew,transform("rotate("+rot+"deg) skew("+skew+"deg)"))},$scope.css_anchor=function(){var rot,skew,_ref;return 2===max?transform("skew(0deg) rotate(-90deg) translateX(50%)"):(_ref=getRotSkew(0),rot=_ref.rot,skew=_ref.skew,transform("skew("+-skew+"deg) rotate("+-rot+"deg)"))}}}}])}).call(this),function(){angular.module("taf.directives.ratings",[]).directive("tafRatings",[function(){return{restrict:"A",templateUrl:"views/components/tafRatings.html",scope:{judges:"=tafJudges",ratings:"=tafRatings"}}}])}.call(this),function(){angular.module("taf.services.calculation",[]).factory("tafCalculation",function($log){var Calculation;return Calculation=function(){function Calculation(tournament){var _ref;this.tournament=tournament,log("===> Tournament: %s",(null!=(_ref=this.tournament.information)?_ref.title:void 0)||this.tournament.title||"unknown Tournament"),this.reset(),this.loadTournamentData(),this.dances.forEach(function(_this){return function(dance){return _this.countAndSumData(dance)}}(this)),this.dances.forEach(function(_this){return function(dance){return _this.findPlacements(dance)}}(this))}var info,log;return log=$log.log,info=$log.info,Calculation.prototype.reset=function(){return this.dances=["slow","quick","kuer"],this.maxPlace=0,this.slow={places:{},couples:{},data:[],unplaced:{},placements:{},errors:[]},this.quick={places:{},couples:{},data:[],unplaced:{},placements:{},errors:[]},this.kuer={places:{},couples:{},data:[],unplaced:{},placements:{},errors:[]}},Calculation.prototype.getUnplacedCouples=function(dance){return Object.keys(this[dance].unplaced).map(function(i){return parseInt(i,10)})},Calculation.prototype.placeCouple=function(dance,couple,place){var Couple;return Couple=this.tournament.couples[couple],info("(%s:%d) Place %d goes to: [%s] %s, %s!",dance,1+place,1+place,Couple.number,Couple.follower,Couple.leader),this[dance].places[place]=this[dance].places[place]||[],this[dance].places[place].push(couple),this[dance].couples[couple]=place,delete this[dance].unplaced[couple]},Calculation.prototype.loadTournamentData=function(){return this.majority=Math.ceil(this.tournament.judges.length/2),this.maxPlace=this.tournament.couples.length-1,this.dances=this.tournament.dances,this.tournament.couples.forEach(function(_this){return function(couple,index){return _this.dances.forEach(function(dance,i){return couple.hasOwnProperty(dance)?(_this[dance].data[index]=couple[dance].values.map(function(val){return parseInt(val,10)}),_this[dance].unplaced[index]=index,_this[dance].placements[index]=[]):_this.dances.splice(i,1)})}}(this))},Calculation.prototype.countAndSumData=function(dance){var places;return places=this[dance].data.length,this[dance].data.forEach(function(_this){return function(data,couple){var filtered,place,_results;for(place=places,_results=[];place-->0;)filtered=data.filter(function(i){return place+1>=i}),_results.push(_this[dance].placements[couple][place]={count:filtered.length,sum:filtered.reduce(function(a,b){return a+b},0)});return _results}}(this))},Calculation.prototype.stepCouples=function(dance,couples,place,basePlace,init,filter,split){var obj,restCouples,splitCouples,target;return 1===couples.length?(this.placeCouple(dance,couples[0],basePlace),1):(obj=this.getPlacementData(dance,couples,place),target=init.call(obj),target===!1?(log("(%s:%d) Stepping through %s, no target found, increasing place",dance,1+place,dance),place<this.maxPlace?this.stepCouples(dance,couples,place+1,basePlace,init,filter,split):!1):(log("(%s:%d) Stepping through %s to find %d",dance,1+place,dance,target),splitCouples=[],restCouples=[],obj.couples.forEach(function(couple,index){return(target===filter.call(obj,couple,index)?splitCouples:restCouples).push(couple)}),log(place,target,obj),1===splitCouples.length?(log("(%s:%d) Found only couple %d with %d",dance,1+place,splitCouples[0],target),this.placeCouple(dance,splitCouples[0],basePlace++),1+this.stepCouples(dance,restCouples,place,basePlace,init,filter,split)):(log("(%s:%d) Found %d couples, trying next rule",dance,1+place,splitCouples.length,splitCouples),split.call(this,splitCouples,place,basePlace,obj),basePlace+=splitCouples.length,place=Math.max(place,basePlace),restCouples.length?splitCouples.length+this.stepCouples(dance,restCouples,place,basePlace,init,filter,split):0)))},Calculation.prototype.findMinSum=function(dance,couples,place,basePlace){return this.stepCouples(dance,couples,place,basePlace,function(){return Math.min.apply(null,this.sums)},function(couple,index){return this.sums[index]},function(couples,place,basePlace){return place<this.maxPlace?(log("(%s:%d) Resuming with rule findMinSum [findMinSum]",dance,1+place),this.findMinSum(dance,couples,place+1,basePlace)):(log("(%s:%d) Stopping to place %d couples",dance,1+place,couples.length),couples.forEach(function(_this){return function(couple){return _this.placeCouple(dance,couple,basePlace)}}(this)))})},Calculation.prototype.findMaxCount=function(dance,couples,place,basePlace){var majority;return majority=this.majority,this.stepCouples(dance,couples,place,basePlace,function(){var max;return max=Math.max.apply(null,this.counts),max>=majority?(log(this.counts,max,majority),max):!1},function(couple,index){return this.counts[index]},function(couples,place,basePlace){return log("(%s:%d) Resuming with rule findMinSum [findMaxCount]",dance,1+place),this.findMinSum(dance,couples,place,basePlace)})},Calculation.prototype.findPlacement=function(dance,couples,place,basePlace){return this.findMaxCount(dance,couples,place,basePlace)},Calculation.prototype.getPlacementData=function(dance,couples,place){var counts,sums;return counts=[],sums=[],couples.forEach(function(_this){return function(couple){return counts.push(_this[dance].placements[couple][place].count),sums.push(_this[dance].placements[couple][place].sum)}}(this)),{couples:couples,counts:counts,sums:sums}},Calculation.prototype.findPlacements=function(dance){var couples,found,innerPlace,place,places;for(log("finding placements for %s",dance),places=this[dance].data.length,place=0;places>place;){if(innerPlace=place,couples=this.getUnplacedCouples(dance),!couples.length)return;for(found=!1;found===!1&&places>innerPlace;)found=this.findPlacement(dance,couples,innerPlace,place),log("found?",found),innerPlace++;place+=found,found===!1&&(place=1/0)}},Calculation.prototype.result=function(){var couples;return couples=this.tournament.couples,this.dances.forEach(function(_this){return function(dance){var Dance;return Dance=_this[dance],Object.keys(Dance.places).forEach(function(place){var placement;return placement=parseInt(place,10),placement=(1+Dance.places[place].length)/2+placement,placement=(placement+".0").substr(0,3),Dance.places[place].forEach(function(index){var couple;return couple=couples[index],couple[dance].placements=Dance.placements[index],couple[dance].place=placement})})}}(this))},Calculation}()})}.call(this),function(){var findCouples,findInfo,findJudges,test2data;findInfo=function(test){var exp,match;return exp=XRegExp("(?<title>[\\p{L}\\p{N}\\s\\/]+)\\s+Am\\s+(?<date>\\d\\d\\.\\d\\d\\.(:?\\d\\d)?\\d\\d)\\s+(?:in)?\\s+(?<location>[\\p{L}\\p{N}\\s\\/]+)"),match=XRegExp.exec(test,exp,0),match?{title:match.title.trim(),date:match.date,location:match.location}:{}},findJudges=function(test){var endPos,exp,index,match,matches,pos;for(pos=Math.max(0,test.indexOf("Wertungsrichter")),pos+="Wertungsrichter".length,endPos=Math.min(test.length-1,test.indexOf("Turnierleitung")),exp=XRegExp("(?<name>[\\p{L}\\s]+)\\s+\\((?<club>[^\\)]+)\\)\\,?\\s+"),matches=[],index=0;endPos>pos&&(match=XRegExp.exec(test,exp,pos));)pos=match.index+match[0].length,index++,matches.push({name:match.name.trim(),club:match.club.trim(),letter:String.fromCharCode(64+index)});return matches},findCouples=function(test){var couple,couples,dances,exp,expStr,match,nameF,nameL,names,pos;if(pos=0,exp=XRegExp("(?<Endrunde>Endrunde)\\s+(?<SD>SD\\s+)?(?<DF>Df\\s+)?(?<KR>K\\s+)?","i"),dances=XRegExp.exec(test,exp,pos)){for(expStr="(?<place>[1-8])\\.\\s+(?<points>\\d+|\\S+)\\s+(?<names>[\\p{L}\\p{N}\\s-\\/]+)\\((?<number>\\d+)\\)\\s*(?<club>[_\\-\\.\\d\\p{L}\\s]+,\\s)?(?<clublocation>[\\p{L}\\s-\\d]+)\\s+",dances.SD&&(expStr+="(?<sdValues>\\d+)\\s+(?<sdPZ>[\\d\\.]+)\\s+"),dances.DF&&(expStr+="(?<dfValues>\\d+)\\s+(?<dfPZ>[\\d\\.]+)\\s+"),dances.KR&&(expStr+="(?<krValues>\\d+)\\s+(?<krPZ>[\\d\\.]+)\\s+"),expStr+="(?<pz>[\\d\\.]+)\\s*",exp=XRegExp(expStr),couples=[];match=XRegExp.exec(test,exp,pos);)pos=match.index+match[0].length,names=match.names.trim().split("/"),nameL=names[1].trim(),nameF=names[0].trim(),couple={place:match.place,points:match.points,names:{leader:nameL,follower:nameF},number:match.number,club:{name:match.club,location:match.clublocation},PZ:match.pz},dances.SD&&(couple["SLOW-DF"]={values:match.sdValues.split(""),pz:match.sdPZ}),dances.DF&&(couple.DISCOFOX={values:match.dfValues.split(""),pz:match.dfPZ}),dances.KR&&(couple.KUER={values:match.krValues.split(""),pz:match.krPZ}),couples.push(couple);return couples}},test2data=function(test){return{information:findInfo(test),couples:findCouples(test),judges:findJudges(test)}},angular.module("taf.controller.import",["ngStorage"]).controller("tafImportCtrl",function($scope,$sessionStorage,$localStorage,tafTournament){var init,tournament;return $scope.lStore=$localStorage,$scope.sStore=$sessionStorage,init=function(){return $localStorage.$default({tournaments:[]}),$sessionStorage.$default({tournament:{}}),$scope.text="TAF German Masters Discofox 2014 Am 20.09.2014 in Mülheim. Hgr. B Discofox          markierte Paare erhalten eine Platzierung         markierte Paare erhalten die DM Qualifikation          markierte Paare haben bereits die DM Qualifikation Endergebnis Platz Starter / Institution Endrunde  SD  Df  PZ 1.  26  Annika Westedt / Tobias Kopelke (43) Discofox Club Hamburg, Hamburg  63712 3.0 25712 1.0 4.0 2.  24  Benjamin Zentz / Anastasia Zentz (47) Tanzschule hp-dancecompany, Bad Kreuznach 56231 2.0 33131 2.0 4.0 3.  22  Erika Keller / Christian Keller (12) ADTV Tanzschule Harry Hagen, Bietigheim-Bissingen 12627 1.0 61547 6.0 7.0 4.  20  Marie-Luise Planert / Christopher Mettken (44) TSC Imperial Mülheim an der Ruhr e.V., Mülheim an der Ruhr  35346 6.0 16323 3.0 9.0 5.  18  Steffi Beier / Tim La Civita (48) Tanzschule HAPPY HOURS, Hannover  41453 4.0 72455 5.0 9.0 6.  16  Tobias Wegner / Leonie Hackenberg (15) Turnverein Cannstatt 1846 e.V., Stuttgart 27164 5.0 47274 4.0 9.0 7.  14  Giulio Arancio / Gina Johannsen (51) ADTV Tanzschule van Hasselt GmbH, Köln  74575 7.0 54666 7.0 14.0 1. Zwischenrunde 8.  12  Marcel Mock / Jessica Lynen (40)  TanzTreff Jülich, Jülich 9.  10  Nick Winkelmann / Katharina Nack (41) Tanzschule HAPPY HOURS, Hannover 10.-11. 6 Henning Schall / Lena Thometzek (42)  TanzTreff Jülich, Jülich 10.-11. 6 Mirko Kobrig / Ewelina Wolniak (49) Tafa Solingen GmbH, Solingen Hoffnungsrunde 12.-13. 2 Monika Siemer / Axel Siemer (45)  ADTV Tanzschule Harry Hagen, Bietigheim-Bissingen 12.-13. 2 Mike Emmel / Carmen Wolf (46) TanzCentrO, Oberhausen 14. 0 Michael Becker / Melissa Becker (50)  Tanz-Turnier-Club Oberhausen e. V., Oberhausen Wertungsrichter Gabi Kerner (ADTV Tanzschule Mettler, Oberhausen), Jose-Francisco Esquinas-Gomez (Tanzschule Vö, Heilbronn), Michael Panhey (TSC Imperial Mülheim), Geza Lang (ADTV Club-Tanzschule Geza Lang), Rouven Grassel (TTC Oberhausen) Turnierleitung TL: Franz Jansen (ADTV Altstadt Tanzschule Jansen), SV: Frank Becker (Tanzen Neu Erleben Neuss) Diese Liste wurde mit TopTurnier für Windows V7.5b erstellt.",$scope.data={},$scope.updateData($scope.text)},$scope.open=0,$scope.isOpen=function(index){return $scope.open===index},$scope.toggleOpen=function(index){return $scope.open=$scope.isOpen(index)?!1:index},$scope.updateData=function(text){return $scope.data=test2data(text)},$scope["import"]=function(){return init()},$scope.load=function(tournament){return $sessionStorage.tournament=tournament},$scope.reset=function(){return $localStorage.$reset(),$sessionStorage.$reset(),init()},$scope.remove=function(index){return $localStorage.tournaments.splice(index,1)},init(),void(tournament=tafTournament["import"]($scope.data))})}.call(this),function(){angular.module("taf.controller",["taf.controller.tournaments","taf.controller.tournament","taf.controller.import"]),angular.module("taf.directives",["taf.directives.radialSelect","taf.directives.ratings"]),angular.module("taf.services",["taf.services.calculation","taf.services.tournament"]),angular.module("taf",["taf.controller","taf.directives","taf.services"]).config(function($stateProvider,$urlRouterProvider){return $urlRouterProvider.otherwise("/all"),$stateProvider.state("taf",{template:"<div ui-view></div>","abstract":!0}).state("taf.list",{url:"/all",templateUrl:"views/taf/tournaments.html",controller:"tafTournamentsCtrl"}).state("taf.tournament",{url:"/tournament/:id",templateUrl:"views/taf/tournament-wrapper.html",controller:"tafTournamentCtrl","abstract":!0,resolve:{tournament:function($stateParams,tafTournament){return tafTournament.getTournament($stateParams.id)}}}).state("taf.tournament.view",{url:"/view",templateUrl:"views/taf/tournament-view.html",controller:"tafTournamentCtrl"}).state("taf.tournament.editJudges",{url:"/judges",templateUrl:"views/taf/tournament-edit-judges.html",controller:"tafTournamentCtrl"}).state("taf.tournament.editCouples",{url:"/couples",templateUrl:"views/taf/tournament-edit-couples.html",controller:"tafTournamentCtrl"}).state("taf.tournament.enterRound",{url:"/round",templateUrl:"views/taf/tournament-edit-round.html",controller:"tafTournamentCtrl"})})}.call(this),function(){angular.module("taf.controller.tournament",["ngStorage"]).controller("tafTournamentCtrl",function($scope,tournament,tafCouple,tafJudge,tafCalculation){return $scope.tournament=tournament,$scope.initCouple=function(){return $scope.couple=tafCouple.empty(),tournament.couples.length?$scope.couple.number=parseInt(tournament.couples[tournament.couples.length-1].number,10)+1:void 0},$scope.initJudge=function(){return $scope.judge=tafJudge.empty(),$scope.judge.letter=String.fromCharCode(65+tournament.judges.length)},$scope.addCouple=function(couple){return tournament.couples.push(couple),$scope.initCouple()},$scope.addJudge=function(judge){return tournament.judges.push(judge),$scope.initJudge()},$scope.initJudge(),$scope.initCouple(),$scope.toggleDance=function(dance){var index;return index=tournament.dances.indexOf(dance),-1===index?tournament.dances.push(dance):tournament.dances.splice(index,1)},$scope.hasDance=function(dance){return-1!==tournament.dances.indexOf(dance)},$scope.calculate=function(){var calculation;return calculation=new tafCalculation(tournament),calculation.result()},$scope.dance=tournament.dances[0],$scope.isDanceActive=function(dance){return dance===$scope.dance},$scope.setDance=function(dance){return $scope.dance=dance},$scope.hasIndexError=function(index,dance){var filtered,values;return values=$scope.tournament.couples.map(function(couple){return couple[dance].values[index]}),filtered=values.filter(function(value,index){return isNaN(value)||null===value||""===value?!1:-1!==values.indexOf(value,index+1)}),filtered.length>0}})}.call(this),function(){var blacklist,watchlist;blacklist=["uuid"],watchlist=["title","hasQuick","hasSlow","hasKuer"],angular.module("taf.services.tournament",[]).factory("tafId",function(){return function(){return"00000000-0000-4000-8000-000000000000".replace(/0/g,function(){return(0|16*Math.random()).toString(16)})}}).factory("tafCouple",function(tafId){return{empty:function(){return{id:tafId(),number:0,leader:null,follower:null,slow:{values:[]},quick:{values:[]},kuer:{values:[]}}}}}).factory("tafJudge",function(tafId){return{empty:function(){return{id:tafId(),letter:"A",name:null}}}}).factory("tafTournament",function($localStorage,tafCalculation,tafCouple,tafId){var tafTournament;return tafTournament={getTournaments:function(){return $localStorage.tournaments=$localStorage.tournaments||[]},activeTournament:function(){return $localStorage.tournament=$localStorage.tournament||tafTournament.emptyTournament()},addTournament:function(tournament){return $localStorage.tournaments.push(tournament)},activateTournament:function(tournament){return $localStorage.tournament=tournament},getTournament:function(id){var tournaments;return tournaments=$localStorage.tournaments.filter(function(tournament){return id===""+tournament.id}),null!=tournaments?tournaments[0]:void 0},emptyTournament:function(){return delete $localStorage.tournament,$localStorage.tournament={id:tafId(),name:null,couples:[],judges:[],dances:["slow","quick","kuer"]}}}})}.call(this),function(){angular.module("taf.controller.tournaments",["ngStorage"]).controller("tafTournamentsCtrl",function($scope,$localStorage,tafTournament){return $scope.init=function(){return $scope.tournaments=tafTournament.getTournaments(),$scope.tournament=tafTournament.activeTournament()},$scope.reset=function(){return $localStorage.$reset(),$scope.init()},$scope.save=function(){return tafTournament.addTournament($scope.tournament),$scope.tournament=null,tafTournament.emptyTournament(),$scope.init()},$scope.activate=function(tournament){return tafTournament.activateTournament(tournament)},$scope.init()})}.call(this),function(){"use strict";angular.module("app",["ngAnimate","ui.bootstrap","ui.router","app.controllers","app.localization","taf"]).run(function($rootScope,$state,$stateParams){return $rootScope.$state=$state,$rootScope.$stateParams=$stateParams,$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){return void 0}),$rootScope.$on("$stateChangeSuccess",function(event,toState){return void 0}),$rootScope.$on("$stateChangeStart",function(event,toState){return void 0})})}.call(this),function(){"use strict";angular.module("app.localization",[]).factory("localize",["$http","$rootScope","$window",function($http,$rootScope,$window){var localize;return localize={language:"",url:void 0,resourceFileLoaded:!1,successCallback:function(data){return localize.dictionary=data,localize.resourceFileLoaded=!0,$rootScope.$broadcast("localizeResourcesUpdated")},setLanguage:function(value){return localize.language=value.toLowerCase().split("-")[0],localize.initLocalizedResources()},setUrl:function(value){return localize.url=value,localize.initLocalizedResources()},buildUrl:function(){return localize.language||(localize.language=($window.navigator.userLanguage||$window.navigator.language).toLowerCase(),localize.language=localize.language.split("-")[0]),"i18n/resources-locale_"+localize.language+".js"},initLocalizedResources:function(){var url;return url=localize.url||localize.buildUrl(),$http({method:"GET",url:url,cache:!1}).success(localize.successCallback).error(function(){return $rootScope.$broadcast("localizeResourcesUpdated")})},getLocalizedString:function(value){var result,valueLowerCase;return result=void 0,localize.dictionary&&value?(valueLowerCase=value.toLowerCase(),result=""===localize.dictionary[valueLowerCase]?value:localize.dictionary[valueLowerCase]):result=value,result}}}]).directive("i18n",["localize",function(localize){var i18nDirective;return i18nDirective={restrict:"EA",updateText:function(ele,input,placeholder){var result;return result=void 0,"i18n-placeholder"===input?(result=localize.getLocalizedString(placeholder),ele.attr("placeholder",result)):input.length>=1?(result=localize.getLocalizedString(input),ele.text(result)):void 0},link:function(scope,ele,attrs){return scope.$on("localizeResourcesUpdated",function(){return i18nDirective.updateText(ele,attrs.i18n,attrs.placeholder)}),attrs.$observe("i18n",function(value){return i18nDirective.updateText(ele,value,attrs.placeholder)})}}}]).controller("LangCtrl",["$scope","localize",function($scope,localize){return $scope.lang="English",$scope.setLang=function(lang){switch(lang){case"English":localize.setLanguage("EN-US");break;case"Español":localize.setLanguage("ES-ES");break;case"日本語":localize.setLanguage("JA-JP");break;case"中文":localize.setLanguage("ZH-TW");break;case"Deutsch":localize.setLanguage("DE-DE");break;case"français":localize.setLanguage("FR-FR");break;case"Italiano":localize.setLanguage("IT-IT");break;case"Portugal":localize.setLanguage("PT-BR");break;case"Русский язык":localize.setLanguage("RU-RU");break;case"한국어":localize.setLanguage("KO-KR")}return $scope.lang=lang},$scope.getFlag=function(){var lang;switch(lang=$scope.lang){case"English":return"flags-american";case"Español":return"flags-spain";case"日本語":return"flags-japan";case"中文":return"flags-china";case"Deutsch":return"flags-germany";case"français":return"flags-france";case"Italiano":return"flags-italy";case"Portugal":return"flags-portugal";case"Русский язык":return"flags-russia";case"한국어":return"flags-korea"}}}])}.call(this),function(){"use strict";angular.module("app.controllers",[]).controller("AppCtrl",["$scope","$rootScope",function($scope){var $window;return $window=$(window),$scope.navigation={open:!1},$scope.pageTransitionOpts=[{name:"Fade up","class":"animate-fade-up"},{name:"Scale up","class":"ainmate-scale-up"},{name:"Slide in from right","class":"ainmate-slide-in-right"},{name:"Flip Y","class":"animate-flip-y"}]}]).directive("highlightActive",[function(){return{restrict:"A",controller:["$scope","$element","$attrs","$location",function($scope,$element,$attrs,$location){var highlightActive,links,path;return links=$element.find("a"),path=function(){return $location.path()},highlightActive=function(links,path){return path="#"+path,angular.forEach(links,function(link){var $li,$link,href;return $link=angular.element(link),$li=$link.parent("li"),href=$link.attr("href"),$li.hasClass("active")&&$li.removeClass("active"),0===path.indexOf(href)?$li.addClass("active"):void 0})},highlightActive(links,$location.path()),$scope.$watch(path,function(newVal,oldVal){return newVal!==oldVal?highlightActive(links,$location.path()):void 0})}]}}])}.call(this);